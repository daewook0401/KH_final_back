<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.nomnom.onnomnom.member.model.dao.MemberMapper">
<sql id="Base_MemberDTO_Select">
SELECT
        MEMBER_NO AS memberNo,
        MEMBER_ID AS memberId,
        MEMBER_PW AS memberPw,
        MEMBER_EMAIL AS memberEmail,
        MEMBER_NAME AS memberName,
        MEMBER_NICKNAME AS memberNickName,
        MEMBER_PH AS memberPh,
        MEMBER_ENROLL_DATE AS memberEnrollDate,
        MEMBER_MODIFIED_DATE AS memberModifiedDate,
        MEMBER_ROLE AS memberRole,
        IS_ACTIVE AS isActive,
        MEMBER_SELFIE AS memberSelfie
FROM
        TB_MEMBER
</sql>
<select id="selectMemberByInput"
        parameterType="com.nomnom.onnomnom.member.dto.MemberDTO"
        resultType="com.nomnom.onnomnom.member.dto.MemberDTO">
<include refid="Base_MemberDTO_Select" />
<where>
  <if test="memberNo != null">AND MEMBER_NO = #{memberNo}</if>
  <if test="memberId != null">AND MEMBER_ID = #{memberId}</if>
  <if test="memberNickName != null">AND MEMBER_NICKNAME = #{memberNickName}</if>
  <if test="memberEmail != null">AND MEMBER_EMAIL = #{memberEmail}</if>
</where>
        MEMBER_ID = #{memberId} 
</select>

<select id="selectMemberByMemberNickName"
parameterType="string"
resultType="com.nomnom.onnomnom.member.dto.MemberDTO">
SELECT 
        MEMBER_NO AS memberNo,
        MEMBER_ID AS memberId,
        MEMBER_PW AS memberPw,
        MEMBER_EMAIL AS memberEmail,
        MEMBER_NAME AS memberName,
        MEMBER_NICKNAME AS memberNickName,
        MEMBER_PH AS memberPh,
        MEMBER_ENROLL_DATE AS memberEnrollDate,
        MEMBER_MODIFIED_DATE AS memberModifiedDate,
        MEMBER_ROLE AS memberRole,
        IS_ACTIVE AS isActive,
        MEMBER_SELFIE AS memberSelfie
FROM
        TB_MEMBER
WHERE
        MEMBER_EMAIL = #{memberNickName} 
</select>

<select id="insertMember"
parameterType="com.nomnom.onnomnom.member.vo.MemberInsertVo">

</select>

</mapper>